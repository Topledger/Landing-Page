"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6485],{66485:function(a,b,c){c.r(b),c.d(b,{default:function(){return w}});var d=c(67294),e=c(91798),f=c(79753),g=c(21863),h=c(14805);c(73935),c(97762),c(72044);var i=e.V,j=function(a,b){return a<b},k=e.W,l=(0,e.g)(function(a){return a&&a.length?i(a,k,j):void 0}),m={weekly:"weeks",daily:"days",monthly:"months"};function n(a){var b={};return(0,e.e)(a,function(a){var c=(0,e.k)(a.date),d=c.valueOf();b[d]=b[d]||{date:c,total:parseInt(a.total,10)||0,values:{}},b[d].values[a.stage]=parseInt(a.value,10)||null}),(0,e.v)(b)}(0,e.d)("/* --------------------------------------------------------\n    Colors\n-----------------------------------------------------------*/\n/* --------------------------------------------------------\n    Font\n-----------------------------------------------------------*/\n/* --------------------------------------------------------\n    Borders\n-----------------------------------------------------------*/\n/* --------------------------------------------------------\n    Typography\n-----------------------------------------------------------*/\n/* --------------------------------------------------------\n    Table\n-----------------------------------------------------------*/\n.cohort-visualization-container .cornelius-table {\n  width: 100%;\n}\n.cohort-visualization-container .cornelius-table,\n.cohort-visualization-container .cornelius-table tr,\n.cohort-visualization-container .cornelius-table th,\n.cohort-visualization-container .cornelius-table td {\n  border-color: #f0f0f0;\n}\n.cohort-visualization-container .cornelius-table .cornelius-time,\n.cohort-visualization-container .cornelius-table .cornelius-label,\n.cohort-visualization-container .cornelius-table .cornelius-stage,\n.cohort-visualization-container .cornelius-table .cornelius-people {\n  background-color: rgba(102, 136, 153, 0.03);\n}\n"),(0,e.d)("/* --------------------------------------------------------\n    Colors\n-----------------------------------------------------------*/\n/* --------------------------------------------------------\n    Font\n-----------------------------------------------------------*/\n/* --------------------------------------------------------\n    Borders\n-----------------------------------------------------------*/\n/* --------------------------------------------------------\n    Typography\n-----------------------------------------------------------*/\n/* --------------------------------------------------------\n    Table\n-----------------------------------------------------------*/\n.cornelius-container .cornelius-title {\n  text-align: center;\n  padding-bottom: 10px;\n  font-weight: bold;\n  font-size: 14pt;\n  color: #333;\n  border-collapse: collapse;\n}\n.cornelius-container .cornelius-table {\n  font-size: 9pt;\n  border-spacing: 0;\n  border: 1px solid #e4e4e4;\n  border-collapse: collapse;\n}\n.cornelius-container .cornelius-table th,\n.cornelius-container .cornelius-table td {\n  text-align: center;\n  padding: 10px;\n  border: 1px solid #e4e4e4;\n  color: #333;\n  font-weight: bold;\n}\n.cornelius-container .cornelius-table .cornelius-label {\n  text-align: left;\n}\n.cornelius-container .cornelius-table .cornelius-empty,\n.cornelius-container .cornelius-table .cornelius-percentage,\n.cornelius-container .cornelius-table .cornelius-absolute {\n  font-weight: normal;\n  border: none;\n}\n.cornelius-container .cornelius-table .cornelius-label,\n.cornelius-container .cornelius-table .cornelius-people,\n.cornelius-container .cornelius-table .cornelius-stage {\n  font-weight: bold;\n  color: #333;\n}\n.cornelius-container .cornelius-table .cornelius-percentage.cornelius-white-text,\n.cornelius-container .cornelius-table .cornelius-absolute.cornelius-white-text {\n  text-shadow: 1px 1px 1px #000000;\n}\n");var o={daily:"days",weekly:"weeks",monthly:"months",yearly:"years"},p={daily:"MMMM D, YYYY",weekly:"[Week of] MMM D, YYYY",monthly:"MMMM YYYY",yearly:"YYYY"},q={initialDate:null,timeInterval:"monthly",noValuePlaceholder:"-",rawNumberOnHover:!0,displayAbsoluteValues:!1,initialIntervalNumber:1,maxColumns:1/0,title:null,timeColumnTitle:"Time",peopleColumnTitle:"People",stageColumnTitle:"{{ @ }}",numberFormat:"0,0[.]00",percentFormat:"0.00%",timeLabelFormat:p.monthly,colors:{min:"#ffffff",max:"#041d66",steps:7}};function r(a){return a=(0,f.c)(a),f.c.contrast(a,"#ffffff")<f.c.contrast(a,"#000000")}function s(a,b){return(0,g.f)(a.stageColumnTitle,{"@":a.initialIntervalNumber-1+b})}function t(a){for(var b=a.options,c=a.maxRowLength,e=[],f=1;f<c;f+=1)e.push(d.createElement("th",{key:"col".concat(f),className:"cornelius-stage"},s(b,f)));return d.createElement("tr",null,d.createElement("th",{className:"cornelius-time"},b.timeColumnTitle),d.createElement("th",{className:"cornelius-people"},b.peopleColumnTitle),e)}function u(a){for(var b,c,f,g=a.options,i=a.data,j=a.index,k=a.maxRowLength,l=i[0]||0,m=[],n=1;n<k;n+=1){var p=i[n],q=(0,e.P)(p/l)?p/l*100:null,s={key:"col".concat(n)};if((0,e.i)(q))s.className="cornelius-empty",s.children=g.noValuePlaceholder;else{s.className=g.displayAbsoluteValues?"cornelius-absolute":"cornelius-percentage",s.children=g.displayAbsoluteValues?g.formatNumber(p):g.formatPercent(q);var t=g.getColorForValue(q);s.style={backgroundColor:t,color:(0,h.c)(t)},r(s.style.color)&&(s.className+=" cornelius-white-text"),g.rawNumberOnHover&&!g.displayAbsoluteValues&&(s.children=d.createElement(e.Y,{title:g.formatNumber(p),mouseEnterDelay:0,mouseLeaveDelay:0},d.createElement("div",null,s.children)))}m.push(d.createElement("td",(0,e._)({},s)))}return d.createElement("tr",null,d.createElement("td",{className:"cornelius-label"},(b=g,c=j,f=o[b.timeInterval],b.initialDate.clone().add(c,f).format(b.timeLabelFormat))),d.createElement("td",{className:"cornelius-people"},g.formatNumber(l)),m)}function v(a){var b=a.data,c=a.options;c=(0,d.useMemo)(function(){var a;return a=c,a=(0,e.o)({},q,a,{initialDate:(0,e.k)(a.initialDate),colors:(0,e.o)({},q.colors,a.colors)}),(0,e.o)(a,{timeLabelFormat:p[a.timeInterval],formatNumber:(0,g.c)(a.numberFormat),formatPercent:(0,g.c)(a.percentFormat),getColorForValue:f.c.scale([a.colors.min,a.colors.max]).mode("hsl").domain([0,100]).classes(a.colors.steps)})},[c]);var h=(0,d.useMemo)(function(){return l([(0,e.q)((0,e.n)(b,function(a){return a.length}))||0,c.maxColumns+1])},[b,c.maxColumns]);return 0===b.length?null:d.createElement("div",{className:"cornelius-container"},c.title&&d.createElement("div",{className:"cornelius-title"},c.title),d.createElement("table",{className:"cornelius-table"},d.createElement("thead",null,d.createElement(t,{options:c,maxRowLength:h})),d.createElement("tbody",null,(0,e.n)(b,function(a,b){return d.createElement(u,{key:"row".concat(b),options:c,data:a,index:b,maxRowLength:h})}))))}function w(a){var b=a.data,c=a.options,f=(0,d.useMemo)(function(){return function(a,b){if(y=a,z=b,A=(0,e.n)(y.columns,function(a){return a.name}),!(y.rows.length>0&&(0,e.m)(A,z.dateColumn)&&(0,e.m)(A,z.stageColumn)&&(0,e.m)(A,z.totalColumn)&&(0,e.m)(A,z.valueColumn)))return{data:[],initialDate:null};a=(0,e.n)(a.rows,function(a){return{date:a[b.dateColumn],stage:parseInt(a[b.stageColumn],10),total:parseFloat(a[b.totalColumn]),value:parseFloat(a[b.valueColumn])}});var c,d,f,g,h,i,j,k,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C=(0,e.s)(a,function(a){return a.date+a.stage}),D=(0,e.k)(C[0].date).toDate();return B="simple"===b.mode?(c=C,f=(d=b).timeInterval,g=n(c),i=l(h=(0,e.n)(c,function(a){return a.stage})),j=(0,e.q)(h),k=null,o=[],(0,e.e)(g,function(a){if(null!==k)for(var b=Math.abs(k.diff(a.date,m[f]));b>1;)o.push([0]),b-=1;k=a.date;for(var c=[a.total],d=i;d<=j;d+=1)c.push(a.values[d]);o.push(c)}),o):(p=C,r=(q=b).timeInterval,s=n(p),t=l((0,e.n)(p,function(a){return a.stage})),u=(0,e.k)((0,e.X)(s).date).diff((0,e.Q)(s).date,m[r]),v=t+u,w=null,x=[],(0,e.e)(s,function(a){if(null!==w)for(var b=Math.abs(w.diff(a.date,m[r]));b>1;){for(var c=[0],d=t;d<=v;d+=1)c.push(a.values[d]||0);x.push(c),v-=1,b-=1}w=a.date;for(var e=[a.total],f=t;f<=v;f+=1)e.push(a.values[f]||0);v-=1,x.push(e)}),x),{data:B,initialDate:D}}(b,c)},[b,c]),g=f.data,h=f.initialDate,i=(0,d.useMemo)(function(){return{initialDate:h,timeInterval:c.timeInterval,noValuePlaceholder:c.noValuePlaceholder,rawNumberOnHover:c.showTooltips,displayAbsoluteValues:!c.percentValues,timeColumnTitle:c.timeColumnTitle,peopleColumnTitle:c.peopleColumnTitle,stageColumnTitle:c.stageColumnTitle,numberFormat:c.numberFormat,percentFormat:c.percentFormat,colors:c.colors}},[c,h]);return 0===g.length?null:d.createElement("div",{className:"cohort-visualization-container"},d.createElement(v,{data:g,options:i}))}v.defaultProps={data:[],options:{}},w.propTypes=e.R},14805:function(a,b,c){c.d(b,{c:function(){return f}});var d=c(91798),e=c(79753);function f(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:["#ffffff","#333333"];try{return a=(0,e.c)(a),(0,d.ae)(b,function(b){return e.c.contrast(a,b)})}catch(c){return null}}}}])